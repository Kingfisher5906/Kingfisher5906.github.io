<!DOCTYPE html>
<HTML>
    <head>
        <title>SchedGen Testing</title>
    </head>
    <body>
        <h1 id="h1">Class List</h1>
        <input id="input" type="text">
        <button onclick="call()">Submit Authentication Cookie</button>
        <div id="classDiv">
            <div>
                <h2 id="c1"></h2>
                <p id="p1"></p>
            </div>
            <div>
                <h2 id="c2"></h2>
                <p id="p2"></p>
            </div>
            <div>
                <h2 id="c3"></h2>
                <p id="p3"></p>
            </div>
            <div>
                <h2 id="c4"></h2>
                <p id="p4"></p>
            </div>
            <div>
                <h2 id="c5"></h2>
                <p id="p5"></p>
            </div>
            <div>
                <h2 id="c6"></h2>
                <p id="p6"></p>
            </div>
            <div>
                <h2 id="c7"></h2>
                <p id="p7"></p>
            </div>
            <div>
                <h2 id="c8"></h2>
                <p id="p8"></p>
            </div>
            <div>
                <h2 id="c9"></h2>
                <p id="p9"></p>
            </div>
            <div>
                <h2 id="c10"></h2>
                <p id="p10"></p>
            </div>
            <div>
                <h2 id="c11"></h2>
                <p id="p11"></p>
            </div>
            <div>
                <h2 id="c12"></h2>
                <p id="p12"></p>
            </div>
            <div>
                <h2 id="c13"></h2>
                <p id="p13"></p>
            </div>
            <div>
                <h2 id="c14"></h2>
                <p id="p14"></p>
            </div>
            
        </div>

    </body>
    <script>
        
        
function call()
{
    var cookie = document.getElementById("input").value
    console.log(cookie)
    //////////
    var myHeaders = new Headers();
myHeaders.append("Cookie", cookie);

var requestOptions = {
  method: 'GET',
  headers: myHeaders,
  redirect: 'follow'
};

fetch("https://stjohnsprep.myschoolapp.com/api/datadirect/ParentStudentUserAcademicGroupsGet?userId=4785700&schoolYearLabel=2023%20-%202024&memberLevel=3&persona=2&durationList=129434%2C129435&markingPeriodId=&viewCid=view120&parentViewCid=view63&changeSchoolYearCount=1", requestOptions)
  .then(response => response.text())
  .then(result => console.log(result))
  .catch(error => console.log('error', error));
  var json = response
  data(json)
}
  ////////

    function data(json)
    {
    var name = new Array(json.length)
    var room = new Array(json.length)
    var teacher = new Array(json.length)
    var id = new Array(json.length)
    var email = new Array(json.length)
    for(var i = 0; i < json.length; i++)
    {
        name[i] = json[i].sectionidentifier;
        room[i] = json[i].room;
        teacher[i] = json[i].groupownername;
        id[i] = json[i].sectionid;
        email[i] = [i].groupowneremail;

    }

    //-----------OUTPUT-----------
    for(i = 0; i < name.length; i++)
    {
        document.getElementById("c" + (i + 1)).innerHTML = name[i]
        document.getElementById("p" + (i + 1)).innerHTML = "Teacher: " + teacher[i] + ". <br> Room number: " + room[i] + ".  <br> Tecaher Email: " + email[i] + "."

    
    }
}


</script>    
</HTML>
